# README - 循环

## repeat

SystemVerilog 的 `repeat` 语句是一种循环控制结构，用于指定某段代码重复执行固定次数。
它类似于其他编程语言中的 `for` 循环，但更加直接，专门用于执行固定次数的迭代。`repeat` 循环的基本语法如下：

```systemverilog
repeat (次数表达式) begin
    // 需要重复执行的代码
end
```

这里，“次数表达式”是一个正整数或者可以计算出正整数的表达式，它指定了循环体内部代码的执行次数。

### 示例

假设你想重复发送一个信号脉冲 5 次，每次脉冲持续 1 个时钟周期，你可以使用 `repeat` 循环如下：

```systemverilog
logic clk, pulse;

// 假设这里有一个时钟信号clk的生成逻辑

initial begin
    pulse = 0; // 初始时刻脉冲信号为低
    repeat (5) begin
        @(posedge clk); // 等待时钟上升沿
        pulse = 1; // 生成脉冲
        @(posedge clk);
        pulse = 0; // 结束脉冲
    end
end
```

在这个示例中，`repeat` 语句用于控制脉冲信号生成的次数。在每次循环中，代码首先等待时钟信号的上升沿，然后生成一个时钟周期长度的脉冲。

### 注意事项

- `repeat` 循环的次数是在循环开始前确定的。即使循环体内的代码修改了次数表达式的值，也不会影响当前循环的迭代次数。
- 如果次数表达式的值为 0，循环体内的代码一次也不会执行。
- `repeat` 循环可以嵌套使用，但要注意避免逻辑复杂化，以免造成代码难以理解和维护。

## unique if-else

在 SystemVerilog 中，`unique if`语句用于强调在给定条件下，只有一个分支应该被执行。
它是 SystemVerilog 对传统`if-else`语句的一个扩展，用来帮助捕捉编写时可能遗漏的逻辑错误，特别是在需要确保多个条件互斥时。

### 基本用法

`unique if`的基本语法如下：

```systemverilog
unique if (条件表达式) begin
    // 条件为真时执行的代码
end else if (另一个条件表达式) begin
    // 另一个条件为真时执行的代码
end else begin
    // 没有条件为真时执行的代码
end
```

使用`unique`修饰符的`if`语句强调了在任何给定的时间只有一个条件应该为真，也就是说，这些条件应该是互斥的。
如果在模拟过程中，出现了多个条件同时为真的情况，那么这将被视为一个错误，仿真工具通常会报告一个违反`unique`约束的警告或错误。

### 示例

假设你有一个信号`cmd`，根据这个信号的值，你要执行不同的操作：

```systemverilog
unique if (cmd == 1) begin
    // 执行操作1
end else if (cmd == 2) begin
    // 执行操作2
end else if (cmd == 3) begin
    // 执行操作3
end else begin
    // 如果cmd不是1、2或3，执行默认操作
end
```

在这个例子中，使用`unique if`确保了`cmd`的值会导致且仅会导致上述四个代码块中的一个被执行。
如果由于某种原因`cmd`的值使得多于一个条件为真，那么将会违反`unique`的约束，这通常指示着代码中存在逻辑错误。

### 使用场景

`unique if`特别适用于处理状态机和复杂的条件逻辑，其中每个条件分支代表一个独立且互斥的状态或决策。
通过在设计中使用`unique if`，设计者可以更容易地识别逻辑错误，确保条件分支的互斥性，从而提高代码的可靠性和正确性。
